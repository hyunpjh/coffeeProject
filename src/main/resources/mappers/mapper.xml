<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.coffeeproject.mapper.CoffeeMapper">
    <!-- User -->
    <!-- 사용자 정보 삽입 -->
    <insert id="insert_user" parameterType="user">
        insert into User
        values (#{email}, #{address}, #{zipcode});
    </insert>
    
    <!--<insert id="insert_order" parameterType="order">
        insert into Orders
        values (0, now(), #{total_price}, #{email})
    </insert>-->
    <insert id="insert_order" parameterType="order" useGeneratedKeys="true" keyProperty="customerOrderNumber">
        insert into Orders (order_date, total_price, email)
        values (now(), #{totalPrice}, #{email})
    </insert>

    <insert id="insert_cart" parameterType="cart">
        insert into Cart
        values (0, #{coffee_id}, #{customer_order_number}, #{quantity}, #{email})
    </insert>
    <!-- Coffee -->
    <!-- 커피 목록 보여주기 -->
    <select id="select_all_coffee" resultType="coffee">
        select coffee_id, coffee_price, coffee_name
        from coffee;
    </select>




</mapper>